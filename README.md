# Распределенный сервис подсчёта арифметических выражений
Этот проект представляет собой распределенный калькулятор, 
который позволяет вычислять математические выражения с использованием нескольких агентов 
для выполнения операций. Проект написан на языке Go и использует HTTP API для взаимодействия с клиентами.


## О проекте

Проект состоит из двух основных компонентов:
1. **Оркестратор** — центральный сервер, который принимает выражения от клиентов, разбивает их на задачи и распределяет между агентами.
2. **Агенты** — сервисы, которые выполняют вычисления (например, сложение, вычитание, умножение, деление) и возвращают результаты оркестратору.

### Основные возможности:
- Вычисление математических выражений с учетом приоритета операций.
- Распределение задач между несколькими агентами.
- Отслеживание статуса вычислений.
- Обработка ошибок (например, деление на ноль, некорректные выражения).


## Использование приложения

1. Склонируйте репозиторий к себе

       git clone https://github.com/Darya-Tolmeneva/Distributed-calculator
       cd Distributed-calculator
2. Запустите сервер используя команду

       go run ./cmd/app/main.go

После запуска автоматически создаются 5 агентов на заданных портах, для распределения нагрузки.

## Примеры
Подаем заведомо неверное выражение
```
curl -X POST http://localhost:8080/api/v1/calculate \
-H "Content-Type: application/json" \
-d '{"expression": "2+2*2*"}'
```
Выражение регистрируется
```
{"id":1}
```
При получении списка выражений получаем информацию о том, что выполнение имеет статус failed
```
curl --location http://localhost:8080/api/v1/expressions

{"expressions":[{"id":1,"expression":"2+2*2*","status":"failed","result":0}]}
```

Подаем правильное выражение
```
curl -X POST http://localhost:8080/api/v1/calculate \
-H "Content-Type: application/json" \
-d '{"expression": "2+2*2"}' 

{"id":3}
```
Обращаемся к этому id
```
curl --location http://localhost:8080/api/v1/expressions/3

{"expression":{"id":3,"expression":"2+2*2","status":"done","result":6}}
```